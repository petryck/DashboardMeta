/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@yandeu/events/cjs/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@yandeu/events/cjs/index.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\n/**\r\n * @package      npmjs.com/package/@yandeu/events (events.min.js)\r\n *\r\n * @author       Arnout Kazemier (https://github.com/3rd-Eden)\r\n * @copyright    Copyright (c) 2014 Arnout Kazemier\r\n * @license      {@link https://github.com/primus/eventemitter3/blob/master/LICENSE|MIT}\r\n *\r\n * @author       Yannick Deubel (https://github.com/yandeu)\r\n * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/yandeu/events\r\n * @license      {@link https://github.com/yandeu/events/blob/master/LICENSE|MIT}\r\n */\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Events = void 0;\r\nvar version_1 = __webpack_require__(/*! ./version */ \"./node_modules/@yandeu/events/cjs/version.js\");\r\nvar EE = /** @class */ (function () {\r\n    function EE(fn, context, once) {\r\n        if (once === void 0) { once = false; }\r\n        this.fn = fn;\r\n        this.context = context;\r\n        this.once = once;\r\n    }\r\n    return EE;\r\n}());\r\nvar addListener = function (emitter, event, fn, context, once) {\r\n    if (typeof fn !== 'function') {\r\n        throw new TypeError('The listener must be a function');\r\n    }\r\n    var listener = new EE(fn, context || emitter, once);\r\n    if (!emitter._events.has(event))\r\n        emitter._events.set(event, listener), emitter._eventsCount++;\r\n    else if (!emitter._events.get(event).fn)\r\n        emitter._events.get(event).push(listener);\r\n    else\r\n        emitter._events.set(event, [emitter._events.get(event), listener]);\r\n    return emitter;\r\n};\r\nvar clearEvent = function (emitter, event) {\r\n    if (--emitter._eventsCount === 0)\r\n        emitter._events = new Map();\r\n    else\r\n        emitter._events.delete(event);\r\n};\r\nvar Events = /** @class */ (function () {\r\n    function Events() {\r\n        this._events = new Map();\r\n        this._eventsCount = 0;\r\n    }\r\n    Object.defineProperty(Events, \"VERSION\", {\r\n        get: function () {\r\n            return version_1.VERSION;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Events.prototype.eventNames = function () {\r\n        return Array.from(this._events.keys());\r\n    };\r\n    Events.prototype.listeners = function (event) {\r\n        var handlers = this._events.get(event);\r\n        if (!handlers)\r\n            return [];\r\n        if (handlers.fn)\r\n            return [handlers.fn];\r\n        for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\r\n            ee[i] = handlers[i].fn;\r\n        }\r\n        return ee;\r\n    };\r\n    Events.prototype.listenerCount = function (event) {\r\n        var listeners = this._events.get(event);\r\n        if (!listeners)\r\n            return 0;\r\n        if (listeners.fn)\r\n            return 1;\r\n        return listeners.length;\r\n    };\r\n    Events.prototype.emit = function (event) {\r\n        var _a, _b;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this._events.has(event))\r\n            return false;\r\n        var listeners = this._events.get(event);\r\n        var i;\r\n        if (listeners.fn) {\r\n            if (listeners.once)\r\n                this.removeListener(event, listeners.fn, undefined, true);\r\n            return (_a = listeners.fn).call.apply(_a, __spreadArray([listeners.context], args)), true;\r\n        }\r\n        else {\r\n            var length_1 = listeners.length;\r\n            for (i = 0; i < length_1; i++) {\r\n                if (listeners[i].once)\r\n                    this.removeListener(event, listeners[i].fn, undefined, true);\r\n                (_b = listeners[i].fn).call.apply(_b, __spreadArray([listeners[i].context], args));\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Events.prototype.on = function (event, fn, context) {\r\n        return addListener(this, event, fn, context, false);\r\n    };\r\n    Events.prototype.once = function (event, fn, context) {\r\n        return addListener(this, event, fn, context, true);\r\n    };\r\n    Events.prototype.removeListener = function (event, fn, context, once) {\r\n        if (!this._events.has(event))\r\n            return this;\r\n        if (!fn) {\r\n            clearEvent(this, event);\r\n            return this;\r\n        }\r\n        var listeners = this._events.get(event);\r\n        if (listeners.fn) {\r\n            if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\r\n                clearEvent(this, event);\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0, events = [], length = listeners.length; i < length; i++) {\r\n                if (listeners[i].fn !== fn || (once && !listeners[i].once) || (context && listeners[i].context !== context)) {\r\n                    events.push(listeners[i]);\r\n                }\r\n            }\r\n            // Reset the array, or remove it completely if we have no more listeners.\r\n            if (events.length)\r\n                this._events.set(event, events.length === 1 ? events[0] : events);\r\n            else\r\n                clearEvent(this, event);\r\n        }\r\n        return this;\r\n    };\r\n    Events.prototype.removeAllListeners = function (event) {\r\n        if (event) {\r\n            if (this._events.delete(event))\r\n                clearEvent(this, event);\r\n        }\r\n        else {\r\n            this._events = new Map();\r\n            this._eventsCount = 0;\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(Events.prototype, \"off\", {\r\n        // alias\r\n        get: function () {\r\n            return this.removeListener;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Events.prototype, \"addListener\", {\r\n        // alias\r\n        get: function () {\r\n            return this.on;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Events;\r\n}());\r\nexports.Events = Events;\r\n/** TESTING SECTION */\r\n// type Colors = 'red' | 'blue' | 'yellow'\r\n// interface EventMap {\r\n//   signal: () => void\r\n//   error: (err: string) => void\r\n//   something: (a: number, b: { colors?: Colors[] }, c: [number, number, string]) => void\r\n// }\r\n// const test = new Events<EventMap>()\r\n// const listener: EventListener<EventMap, 'something'> = (a, b, c) => {\r\n//   console.log(a, b.colors, c)\r\n// }\r\n// test.on('something', listener)\r\n// setTimeout(() => {\r\n//   test.removeListener('something', listener)\r\n// }, 5000)\r\n// test.once('error', err => {\r\n//   console.log('error:', err)\r\n// })\r\n// console.log(test.eventNames())\r\n// test.emit('error', 'ok')\r\n// test.emit('error', 'failed')\r\n// test.emit('something', 1234, { colors: ['blue'] }, [3, 3, 'k'])\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHlhbmRldS9ldmVudHMvY2pzL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkbWV0YXMvLi9ub2RlX21vZHVsZXMvQHlhbmRldS9ldmVudHMvY2pzL2luZGV4LmpzP2Q5NDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAcGFja2FnZSAgICAgIG5wbWpzLmNvbS9wYWNrYWdlL0B5YW5kZXUvZXZlbnRzIChldmVudHMubWluLmpzKVxyXG4gKlxyXG4gKiBAYXV0aG9yICAgICAgIEFybm91dCBLYXplbWllciAoaHR0cHM6Ly9naXRodWIuY29tLzNyZC1FZGVuKVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAxNCBBcm5vdXQgS2F6ZW1pZXJcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3ByaW11cy9ldmVudGVtaXR0ZXIzL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8TUlUfVxyXG4gKlxyXG4gKiBAYXV0aG9yICAgICAgIFlhbm5pY2sgRGV1YmVsIChodHRwczovL2dpdGh1Yi5jb20veWFuZGV1KVxyXG4gKiBAY29weXJpZ2h0ICAgIENvcHlyaWdodCAoYykgMjAyMSBZYW5uaWNrIERldWJlbDsgUHJvamVjdCBVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUvZXZlbnRzXHJcbiAqIEBsaWNlbnNlICAgICAge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUvZXZlbnRzL2Jsb2IvbWFzdGVyL0xJQ0VOU0V8TUlUfVxyXG4gKi9cclxudmFyIF9fc3ByZWFkQXJyYXkgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXkpIHx8IGZ1bmN0aW9uICh0bywgZnJvbSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZnJvbS5sZW5ndGgsIGogPSB0by5sZW5ndGg7IGkgPCBpbDsgaSsrLCBqKyspXHJcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xyXG4gICAgcmV0dXJuIHRvO1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuRXZlbnRzID0gdm9pZCAwO1xyXG52YXIgdmVyc2lvbl8xID0gcmVxdWlyZShcIi4vdmVyc2lvblwiKTtcclxudmFyIEVFID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcclxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxyXG4gICAgICAgIHRoaXMuZm4gPSBmbjtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRUU7XHJcbn0oKSk7XHJcbnZhciBhZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcclxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgZW1pdHRlciwgb25jZSk7XHJcbiAgICBpZiAoIWVtaXR0ZXIuX2V2ZW50cy5oYXMoZXZlbnQpKVxyXG4gICAgICAgIGVtaXR0ZXIuX2V2ZW50cy5zZXQoZXZlbnQsIGxpc3RlbmVyKSwgZW1pdHRlci5fZXZlbnRzQ291bnQrKztcclxuICAgIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHMuZ2V0KGV2ZW50KS5mbilcclxuICAgICAgICBlbWl0dGVyLl9ldmVudHMuZ2V0KGV2ZW50KS5wdXNoKGxpc3RlbmVyKTtcclxuICAgIGVsc2VcclxuICAgICAgICBlbWl0dGVyLl9ldmVudHMuc2V0KGV2ZW50LCBbZW1pdHRlci5fZXZlbnRzLmdldChldmVudCksIGxpc3RlbmVyXSk7XHJcbiAgICByZXR1cm4gZW1pdHRlcjtcclxufTtcclxudmFyIGNsZWFyRXZlbnQgPSBmdW5jdGlvbiAoZW1pdHRlciwgZXZlbnQpIHtcclxuICAgIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKVxyXG4gICAgICAgIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgIGVsc2VcclxuICAgICAgICBlbWl0dGVyLl9ldmVudHMuZGVsZXRlKGV2ZW50KTtcclxufTtcclxudmFyIEV2ZW50cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50cywgXCJWRVJTSU9OXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25fMS5WRVJTSU9OO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIEV2ZW50cy5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9ldmVudHMua2V5cygpKTtcclxuICAgIH07XHJcbiAgICBFdmVudHMucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2V2ZW50cy5nZXQoZXZlbnQpO1xyXG4gICAgICAgIGlmICghaGFuZGxlcnMpXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICBpZiAoaGFuZGxlcnMuZm4pXHJcbiAgICAgICAgICAgIHJldHVybiBbaGFuZGxlcnMuZm5dO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBlZVtpXSA9IGhhbmRsZXJzW2ldLmZuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWU7XHJcbiAgICB9O1xyXG4gICAgRXZlbnRzLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cy5nZXQoZXZlbnQpO1xyXG4gICAgICAgIGlmICghbGlzdGVuZXJzKVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICBpZiAobGlzdGVuZXJzLmZuKVxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICBFdmVudHMucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudHMuaGFzKGV2ZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMuZ2V0KGV2ZW50KTtcclxuICAgICAgICB2YXIgaTtcclxuICAgICAgICBpZiAobGlzdGVuZXJzLmZuKSB7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMub25jZSlcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIChfYSA9IGxpc3RlbmVycy5mbikuY2FsbC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbbGlzdGVuZXJzLmNvbnRleHRdLCBhcmdzKSksIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbGVuZ3RoXzEgPSBsaXN0ZW5lcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoXzE7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIChfYiA9IGxpc3RlbmVyc1tpXS5mbikuY2FsbC5hcHBseShfYiwgX19zcHJlYWRBcnJheShbbGlzdGVuZXJzW2ldLmNvbnRleHRdLCBhcmdzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgRXZlbnRzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudCwgZm4sIGNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gYWRkTGlzdGVuZXIodGhpcywgZXZlbnQsIGZuLCBjb250ZXh0LCBmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgRXZlbnRzLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gKGV2ZW50LCBmbiwgY29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xyXG4gICAgfTtcclxuICAgIEV2ZW50cy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ldmVudHMuaGFzKGV2ZW50KSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgaWYgKCFmbikge1xyXG4gICAgICAgICAgICBjbGVhckV2ZW50KHRoaXMsIGV2ZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMuZ2V0KGV2ZW50KTtcclxuICAgICAgICBpZiAobGlzdGVuZXJzLmZuKSB7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuZm4gPT09IGZuICYmICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiYgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJFdmVudCh0aGlzLCBldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBldmVudHMgPSBbXSwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fCAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8IChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIGFycmF5LCBvciByZW1vdmUgaXQgY29tcGxldGVseSBpZiB3ZSBoYXZlIG5vIG1vcmUgbGlzdGVuZXJzLlxyXG4gICAgICAgICAgICBpZiAoZXZlbnRzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50cy5zZXQoZXZlbnQsIGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHMpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBjbGVhckV2ZW50KHRoaXMsIGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgRXZlbnRzLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50cy5kZWxldGUoZXZlbnQpKVxyXG4gICAgICAgICAgICAgICAgY2xlYXJFdmVudCh0aGlzLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50cy5wcm90b3R5cGUsIFwib2ZmXCIsIHtcclxuICAgICAgICAvLyBhbGlhc1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRzLnByb3RvdHlwZSwgXCJhZGRMaXN0ZW5lclwiLCB7XHJcbiAgICAgICAgLy8gYWxpYXNcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub247XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIEV2ZW50cztcclxufSgpKTtcclxuZXhwb3J0cy5FdmVudHMgPSBFdmVudHM7XHJcbi8qKiBURVNUSU5HIFNFQ1RJT04gKi9cclxuLy8gdHlwZSBDb2xvcnMgPSAncmVkJyB8ICdibHVlJyB8ICd5ZWxsb3cnXHJcbi8vIGludGVyZmFjZSBFdmVudE1hcCB7XHJcbi8vICAgc2lnbmFsOiAoKSA9PiB2b2lkXHJcbi8vICAgZXJyb3I6IChlcnI6IHN0cmluZykgPT4gdm9pZFxyXG4vLyAgIHNvbWV0aGluZzogKGE6IG51bWJlciwgYjogeyBjb2xvcnM/OiBDb2xvcnNbXSB9LCBjOiBbbnVtYmVyLCBudW1iZXIsIHN0cmluZ10pID0+IHZvaWRcclxuLy8gfVxyXG4vLyBjb25zdCB0ZXN0ID0gbmV3IEV2ZW50czxFdmVudE1hcD4oKVxyXG4vLyBjb25zdCBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjxFdmVudE1hcCwgJ3NvbWV0aGluZyc+ID0gKGEsIGIsIGMpID0+IHtcclxuLy8gICBjb25zb2xlLmxvZyhhLCBiLmNvbG9ycywgYylcclxuLy8gfVxyXG4vLyB0ZXN0Lm9uKCdzb21ldGhpbmcnLCBsaXN0ZW5lcilcclxuLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcbi8vICAgdGVzdC5yZW1vdmVMaXN0ZW5lcignc29tZXRoaW5nJywgbGlzdGVuZXIpXHJcbi8vIH0sIDUwMDApXHJcbi8vIHRlc3Qub25jZSgnZXJyb3InLCBlcnIgPT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdlcnJvcjonLCBlcnIpXHJcbi8vIH0pXHJcbi8vIGNvbnNvbGUubG9nKHRlc3QuZXZlbnROYW1lcygpKVxyXG4vLyB0ZXN0LmVtaXQoJ2Vycm9yJywgJ29rJylcclxuLy8gdGVzdC5lbWl0KCdlcnJvcicsICdmYWlsZWQnKVxyXG4vLyB0ZXN0LmVtaXQoJ3NvbWV0aGluZycsIDEyMzQsIHsgY29sb3JzOiBbJ2JsdWUnXSB9LCBbMywgMywgJ2snXSlcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@yandeu/events/cjs/index.js\n");

/***/ }),

/***/ "./node_modules/@yandeu/events/cjs/version.js":
/*!****************************************************!*\
  !*** ./node_modules/@yandeu/events/cjs/version.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.VERSION = void 0;\r\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\r\nexports.VERSION = \"0.0.5\";\r\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHlhbmRldS9ldmVudHMvY2pzL3ZlcnNpb24uanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkbWV0YXMvLi9ub2RlX21vZHVsZXMvQHlhbmRldS9ldmVudHMvY2pzL3ZlcnNpb24uanM/MGUxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlZFUlNJT04gPSB2b2lkIDA7XHJcbi8vIFRISVMgSVMgQU4gQVVUT0dFTkVSQVRFRCBGSUxFLiBETyBOT1QgRURJVCBUSElTIEZJTEUgRElSRUNUTFkuXHJcbmV4cG9ydHMuVkVSU0lPTiA9IFwiMC4wLjVcIjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@yandeu/events/cjs/version.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/geckos/channel.js":
/*!**************************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/geckos/channel.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ClientChannel\": () => (/* binding */ ClientChannel),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _wrtc_connectionsManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../wrtc/connectionsManager.js */ \"./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js\");\n/* harmony import */ var _geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @geckos.io/common/lib/constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n/* harmony import */ var _wrtc_peerConnection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../wrtc/peerConnection.js */ \"./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js\");\n/* harmony import */ var _geckos_io_common_lib_reliableMessage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @geckos.io/common/lib/reliableMessage.js */ \"./node_modules/@geckos.io/common/lib/reliableMessage.js\");\n\r\n\r\n\r\n\r\nclass ClientChannel {\r\n    constructor(url, authorization, port, label, rtcConfiguration // eslint-disable-line no-undef\r\n    ) {\r\n        this.userData = {};\r\n        // stores all reliable messages for about 15 seconds\r\n        this.receivedReliableMessages = [];\r\n        this.url = port ? `${url}:${port}` : url;\r\n        this.connectionsManager = new _wrtc_connectionsManager_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.url, authorization, label, rtcConfiguration);\r\n        this.bridge = this.connectionsManager.bridge;\r\n        // remove all event listeners on disconnect\r\n        this.bridge.on(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED, () => this.bridge.removeAllListeners());\r\n    }\r\n    onconnectionstatechange() {\r\n        const lpc = this.peerConnection.localPeerConnection;\r\n        lpc.onconnectionstatechange = () => {\r\n            if (lpc.connectionState === 'disconnected' || lpc.connectionState === 'closed')\r\n                this.bridge.emit(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED);\r\n        };\r\n    }\r\n    /** Get the channel's id. */\r\n    get id() {\r\n        return this.peerConnection.id;\r\n    }\r\n    /** Close the WebRTC connection */\r\n    close() {\r\n        this.peerConnection.localPeerConnection.close();\r\n        // fire the DISCONNECTED event manually\r\n        this.bridge.emit(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED);\r\n        try {\r\n            const host = `${this.url}/.wrtc/v2`;\r\n            fetch(`${host}/connections/${this.id}/close`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            console.error(error.message);\r\n        }\r\n    }\r\n    /** Emit a message to the server. */\r\n    emit(eventName, data = null, options) {\r\n        if (options && options.reliable) {\r\n            (0,_geckos_io_common_lib_reliableMessage_js__WEBPACK_IMPORTED_MODULE_3__.makeReliable)(options, (id) => this.connectionsManager.emit(eventName, {\r\n                MESSAGE: data,\r\n                RELIABLE: 1,\r\n                ID: id\r\n            }));\r\n        }\r\n        else {\r\n            this.connectionsManager.emit(eventName, data);\r\n        }\r\n    }\r\n    /** Emit a raw message to the server */\r\n    get raw() {\r\n        return {\r\n            /**\r\n             * Emit a raw message.\r\n             * @param rawMessage The raw message. Can be of type 'USVString | ArrayBuffer | ArrayBufferView'\r\n             */\r\n            emit: (rawMessage) => this.emit(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.RAW_MESSAGE, rawMessage)\r\n        };\r\n    }\r\n    /**\r\n     * Listen for a raw message from the server.\r\n     * @param callback The event callback.\r\n     */\r\n    onRaw(callback) {\r\n        this.bridge.on(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.RAW_MESSAGE, (rawMessage) => {\r\n            const cb = (rawMessage) => callback(rawMessage);\r\n            cb(rawMessage);\r\n        });\r\n    }\r\n    /**\r\n     * Listen for the connect event.\r\n     * @param callback The event callback.\r\n     */\r\n    async onConnect(callback) {\r\n        var _a;\r\n        this.peerConnection = new _wrtc_peerConnection_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n        const response = await this.peerConnection.connect(this.connectionsManager);\r\n        if (response.error)\r\n            callback(response.error);\r\n        else {\r\n            // set the userData\r\n            if (response.userData)\r\n                this.userData = response.userData;\r\n            // keep track of the maxMessageSize\r\n            this.maxMessageSize = this.connectionsManager.maxMessageSize = (_a = this.peerConnection.localPeerConnection.sctp) === null || _a === void 0 ? void 0 : _a.maxMessageSize;\r\n            // init onConnectionStateChange event\r\n            this.onconnectionstatechange();\r\n            // we are now ready\r\n            callback();\r\n        }\r\n    }\r\n    /**\r\n     * Listen for the disconnect event.\r\n     * @param callback The event callback.\r\n     */\r\n    onDisconnect(callback) {\r\n        this.bridge.on(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED, callback);\r\n    }\r\n    /**\r\n     * Listen for a message from the server.\r\n     * @param eventName The event name.\r\n     * @param callback The event callback.\r\n     */\r\n    on(eventName, callback) {\r\n        this.bridge.on(eventName, (data) => {\r\n            // check if message is reliable\r\n            // and reject it if it has already been submitted\r\n            const isReliableMessage = data && data.RELIABLE === 1 && data.ID !== 'undefined';\r\n            const expireTime = 15000; // 15 seconds\r\n            const deleteExpiredReliableMessages = () => {\r\n                const currentTime = new Date().getTime();\r\n                this.receivedReliableMessages.forEach((msg, index, object) => {\r\n                    if (msg.expire <= currentTime) {\r\n                        object.splice(index, 1);\r\n                    }\r\n                });\r\n            };\r\n            if (isReliableMessage) {\r\n                deleteExpiredReliableMessages();\r\n                if (this.receivedReliableMessages.filter(obj => obj.id === data.ID).length === 0) {\r\n                    this.receivedReliableMessages.push({\r\n                        id: data.ID,\r\n                        timestamp: new Date(),\r\n                        expire: new Date().getTime() + expireTime\r\n                    });\r\n                    callback(data.MESSAGE);\r\n                }\r\n                else {\r\n                    // reject message\r\n                }\r\n            }\r\n            else {\r\n                callback(data);\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * The geckos.io client library.\r\n * @param options.iceServers An array of RTCIceServers. See https://developer.mozilla.org/en-US/docs/Web/API/RTCIceServer.\r\n * @param options.iceTransportPolicy RTCIceTransportPolicy enum defines string constants which can be used to limit the transport policies of the ICE candidates to be considered during the connection process.\r\n * @param options.label The label of the DataChannel. Default: 'geckos.io'.\r\n * @param options.port The port of the server. Default: 9208.\r\n * @param options.url The url of the server. Default: \\`${location.protocol}//${location.hostname}\\`.\r\n */\r\nconst geckosClient = (options = {}) => {\r\n    const { authorization = undefined, iceServers = [], iceTransportPolicy = 'all', label = 'geckos.io', port = 9208, url = `${location.protocol}//${location.hostname}` } = options;\r\n    return new ClientChannel(url, authorization, port, label, { iceServers, iceTransportPolicy });\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (geckosClient);\r\n//# sourceMappingURL=channel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL2dlY2tvcy9jaGFubmVsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkbWV0YXMvLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL2dlY2tvcy9jaGFubmVsLmpzPzQ5MWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbm5lY3Rpb25zTWFuYWdlckNsaWVudCBmcm9tICcuLi93cnRjL2Nvbm5lY3Rpb25zTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IEVWRU5UUyB9IGZyb20gJ0BnZWNrb3MuaW8vY29tbW9uL2xpYi9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgUGVlckNvbm5lY3Rpb24gZnJvbSAnLi4vd3J0Yy9wZWVyQ29ubmVjdGlvbi5qcyc7XHJcbmltcG9ydCB7IG1ha2VSZWxpYWJsZSB9IGZyb20gJ0BnZWNrb3MuaW8vY29tbW9uL2xpYi9yZWxpYWJsZU1lc3NhZ2UuanMnO1xyXG5leHBvcnQgY2xhc3MgQ2xpZW50Q2hhbm5lbCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIGF1dGhvcml6YXRpb24sIHBvcnQsIGxhYmVsLCBydGNDb25maWd1cmF0aW9uIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMudXNlckRhdGEgPSB7fTtcclxuICAgICAgICAvLyBzdG9yZXMgYWxsIHJlbGlhYmxlIG1lc3NhZ2VzIGZvciBhYm91dCAxNSBzZWNvbmRzXHJcbiAgICAgICAgdGhpcy5yZWNlaXZlZFJlbGlhYmxlTWVzc2FnZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnVybCA9IHBvcnQgPyBgJHt1cmx9OiR7cG9ydH1gIDogdXJsO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnNNYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25zTWFuYWdlckNsaWVudCh0aGlzLnVybCwgYXV0aG9yaXphdGlvbiwgbGFiZWwsIHJ0Y0NvbmZpZ3VyYXRpb24pO1xyXG4gICAgICAgIHRoaXMuYnJpZGdlID0gdGhpcy5jb25uZWN0aW9uc01hbmFnZXIuYnJpZGdlO1xyXG4gICAgICAgIC8vIHJlbW92ZSBhbGwgZXZlbnQgbGlzdGVuZXJzIG9uIGRpc2Nvbm5lY3RcclxuICAgICAgICB0aGlzLmJyaWRnZS5vbihFVkVOVFMuRElTQ09OTkVDVEVELCAoKSA9PiB0aGlzLmJyaWRnZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSk7XHJcbiAgICB9XHJcbiAgICBvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSgpIHtcclxuICAgICAgICBjb25zdCBscGMgPSB0aGlzLnBlZXJDb25uZWN0aW9uLmxvY2FsUGVlckNvbm5lY3Rpb247XHJcbiAgICAgICAgbHBjLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobHBjLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcgfHwgbHBjLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Nsb3NlZCcpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyaWRnZS5lbWl0KEVWRU5UUy5ESVNDT05ORUNURUQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKiogR2V0IHRoZSBjaGFubmVsJ3MgaWQuICovXHJcbiAgICBnZXQgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uaWQ7XHJcbiAgICB9XHJcbiAgICAvKiogQ2xvc2UgdGhlIFdlYlJUQyBjb25uZWN0aW9uICovXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLnBlZXJDb25uZWN0aW9uLmxvY2FsUGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcclxuICAgICAgICAvLyBmaXJlIHRoZSBESVNDT05ORUNURUQgZXZlbnQgbWFudWFsbHlcclxuICAgICAgICB0aGlzLmJyaWRnZS5lbWl0KEVWRU5UUy5ESVNDT05ORUNURUQpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvc3QgPSBgJHt0aGlzLnVybH0vLndydGMvdjJgO1xyXG4gICAgICAgICAgICBmZXRjaChgJHtob3N0fS9jb25uZWN0aW9ucy8ke3RoaXMuaWR9L2Nsb3NlYCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIEVtaXQgYSBtZXNzYWdlIHRvIHRoZSBzZXJ2ZXIuICovXHJcbiAgICBlbWl0KGV2ZW50TmFtZSwgZGF0YSA9IG51bGwsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlbGlhYmxlKSB7XHJcbiAgICAgICAgICAgIG1ha2VSZWxpYWJsZShvcHRpb25zLCAoaWQpID0+IHRoaXMuY29ubmVjdGlvbnNNYW5hZ2VyLmVtaXQoZXZlbnROYW1lLCB7XHJcbiAgICAgICAgICAgICAgICBNRVNTQUdFOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgUkVMSUFCTEU6IDEsXHJcbiAgICAgICAgICAgICAgICBJRDogaWRcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uc01hbmFnZXIuZW1pdChldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiBFbWl0IGEgcmF3IG1lc3NhZ2UgdG8gdGhlIHNlcnZlciAqL1xyXG4gICAgZ2V0IHJhdygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRW1pdCBhIHJhdyBtZXNzYWdlLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0gcmF3TWVzc2FnZSBUaGUgcmF3IG1lc3NhZ2UuIENhbiBiZSBvZiB0eXBlICdVU1ZTdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldydcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGVtaXQ6IChyYXdNZXNzYWdlKSA9PiB0aGlzLmVtaXQoRVZFTlRTLlJBV19NRVNTQUdFLCByYXdNZXNzYWdlKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExpc3RlbiBmb3IgYSByYXcgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGV2ZW50IGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBvblJhdyhjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuYnJpZGdlLm9uKEVWRU5UUy5SQVdfTUVTU0FHRSwgKHJhd01lc3NhZ2UpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2IgPSAocmF3TWVzc2FnZSkgPT4gY2FsbGJhY2socmF3TWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGNiKHJhd01lc3NhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIHRoZSBjb25uZWN0IGV2ZW50LlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBldmVudCBjYWxsYmFjay5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgb25Db25uZWN0KGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24gPSBuZXcgUGVlckNvbm5lY3Rpb24oKTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdCh0aGlzLmNvbm5lY3Rpb25zTWFuYWdlcik7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZS5lcnJvcik7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNldCB0aGUgdXNlckRhdGFcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnVzZXJEYXRhKVxyXG4gICAgICAgICAgICAgICAgdGhpcy51c2VyRGF0YSA9IHJlc3BvbnNlLnVzZXJEYXRhO1xyXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBtYXhNZXNzYWdlU2l6ZVxyXG4gICAgICAgICAgICB0aGlzLm1heE1lc3NhZ2VTaXplID0gdGhpcy5jb25uZWN0aW9uc01hbmFnZXIubWF4TWVzc2FnZVNpemUgPSAoX2EgPSB0aGlzLnBlZXJDb25uZWN0aW9uLmxvY2FsUGVlckNvbm5lY3Rpb24uc2N0cCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1heE1lc3NhZ2VTaXplO1xyXG4gICAgICAgICAgICAvLyBpbml0IG9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlIGV2ZW50XHJcbiAgICAgICAgICAgIHRoaXMub25jb25uZWN0aW9uc3RhdGVjaGFuZ2UoKTtcclxuICAgICAgICAgICAgLy8gd2UgYXJlIG5vdyByZWFkeVxyXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciB0aGUgZGlzY29ubmVjdCBldmVudC5cclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZXZlbnQgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIG9uRGlzY29ubmVjdChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuYnJpZGdlLm9uKEVWRU5UUy5ESVNDT05ORUNURUQsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBhIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgZXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZXZlbnQgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLmJyaWRnZS5vbihldmVudE5hbWUsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIG1lc3NhZ2UgaXMgcmVsaWFibGVcclxuICAgICAgICAgICAgLy8gYW5kIHJlamVjdCBpdCBpZiBpdCBoYXMgYWxyZWFkeSBiZWVuIHN1Ym1pdHRlZFxyXG4gICAgICAgICAgICBjb25zdCBpc1JlbGlhYmxlTWVzc2FnZSA9IGRhdGEgJiYgZGF0YS5SRUxJQUJMRSA9PT0gMSAmJiBkYXRhLklEICE9PSAndW5kZWZpbmVkJztcclxuICAgICAgICAgICAgY29uc3QgZXhwaXJlVGltZSA9IDE1MDAwOyAvLyAxNSBzZWNvbmRzXHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUV4cGlyZWRSZWxpYWJsZU1lc3NhZ2VzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRSZWxpYWJsZU1lc3NhZ2VzLmZvckVhY2goKG1zZywgaW5kZXgsIG9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtc2cuZXhwaXJlIDw9IGN1cnJlbnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAoaXNSZWxpYWJsZU1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUV4cGlyZWRSZWxpYWJsZU1lc3NhZ2VzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNlaXZlZFJlbGlhYmxlTWVzc2FnZXMuZmlsdGVyKG9iaiA9PiBvYmouaWQgPT09IGRhdGEuSUQpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZWRSZWxpYWJsZU1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgZXhwaXJlVGltZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEuTUVTU0FHRSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWplY3QgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhlIGdlY2tvcy5pbyBjbGllbnQgbGlicmFyeS5cclxuICogQHBhcmFtIG9wdGlvbnMuaWNlU2VydmVycyBBbiBhcnJheSBvZiBSVENJY2VTZXJ2ZXJzLiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JUQ0ljZVNlcnZlci5cclxuICogQHBhcmFtIG9wdGlvbnMuaWNlVHJhbnNwb3J0UG9saWN5IFJUQ0ljZVRyYW5zcG9ydFBvbGljeSBlbnVtIGRlZmluZXMgc3RyaW5nIGNvbnN0YW50cyB3aGljaCBjYW4gYmUgdXNlZCB0byBsaW1pdCB0aGUgdHJhbnNwb3J0IHBvbGljaWVzIG9mIHRoZSBJQ0UgY2FuZGlkYXRlcyB0byBiZSBjb25zaWRlcmVkIGR1cmluZyB0aGUgY29ubmVjdGlvbiBwcm9jZXNzLlxyXG4gKiBAcGFyYW0gb3B0aW9ucy5sYWJlbCBUaGUgbGFiZWwgb2YgdGhlIERhdGFDaGFubmVsLiBEZWZhdWx0OiAnZ2Vja29zLmlvJy5cclxuICogQHBhcmFtIG9wdGlvbnMucG9ydCBUaGUgcG9ydCBvZiB0aGUgc2VydmVyLiBEZWZhdWx0OiA5MjA4LlxyXG4gKiBAcGFyYW0gb3B0aW9ucy51cmwgVGhlIHVybCBvZiB0aGUgc2VydmVyLiBEZWZhdWx0OiBcXGAke2xvY2F0aW9uLnByb3RvY29sfS8vJHtsb2NhdGlvbi5ob3N0bmFtZX1cXGAuXHJcbiAqL1xyXG5jb25zdCBnZWNrb3NDbGllbnQgPSAob3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgICBjb25zdCB7IGF1dGhvcml6YXRpb24gPSB1bmRlZmluZWQsIGljZVNlcnZlcnMgPSBbXSwgaWNlVHJhbnNwb3J0UG9saWN5ID0gJ2FsbCcsIGxhYmVsID0gJ2dlY2tvcy5pbycsIHBvcnQgPSA5MjA4LCB1cmwgPSBgJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7bG9jYXRpb24uaG9zdG5hbWV9YCB9ID0gb3B0aW9ucztcclxuICAgIHJldHVybiBuZXcgQ2xpZW50Q2hhbm5lbCh1cmwsIGF1dGhvcml6YXRpb24sIHBvcnQsIGxhYmVsLCB7IGljZVNlcnZlcnMsIGljZVRyYW5zcG9ydFBvbGljeSB9KTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgZ2Vja29zQ2xpZW50O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/geckos/channel.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"geckos\": () => (/* reexport safe */ _geckos_channel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _geckos_channel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geckos/channel.js */ \"./node_modules/@geckos.io/client/lib/geckos/channel.js\");\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_geckos_channel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkbWV0YXMvLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL2luZGV4LmpzPzk1ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsaWVudCwgeyBDbGllbnRDaGFubmVsIH0gZnJvbSAnLi9nZWNrb3MvY2hhbm5lbC5qcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsaWVudDtcclxuZXhwb3J0IHsgY2xpZW50IGFzIGdlY2tvcyB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConnectionsManagerClient)\n/* harmony export */ });\n/* harmony import */ var _geckos_io_common_lib_bridge_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @geckos.io/common/lib/bridge.js */ \"./node_modules/@geckos.io/common/lib/bridge.js\");\n/* harmony import */ var _geckos_io_common_lib_parseMessage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @geckos.io/common/lib/parseMessage.js */ \"./node_modules/@geckos.io/common/lib/parseMessage.js\");\n/* harmony import */ var _geckos_io_common_lib_sendMessage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @geckos.io/common/lib/sendMessage.js */ \"./node_modules/@geckos.io/common/lib/sendMessage.js\");\n\r\n\r\n\r\nclass ConnectionsManagerClient {\r\n    constructor(url, authorization, label, rtcConfiguration // eslint-disable-line no-undef\r\n    ) {\r\n        this.url = url;\r\n        this.authorization = authorization;\r\n        this.label = label;\r\n        this.rtcConfiguration = rtcConfiguration;\r\n        this.bridge = new _geckos_io_common_lib_bridge_js__WEBPACK_IMPORTED_MODULE_0__.Bridge();\r\n        this.onDataChannel = (ev) => {\r\n            const { channel } = ev;\r\n            if (channel.label !== this.label)\r\n                return;\r\n            this.dataChannel = channel;\r\n            // set default binaryType to arraybuffer\r\n            // https://github.com/node-webrtc/node-webrtc/issues/441\r\n            this.dataChannel.binaryType = 'arraybuffer';\r\n            this.dataChannel.onmessage = (ev) => {\r\n                const { key, data } = (0,_geckos_io_common_lib_parseMessage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ev);\r\n                this.bridge.emit(key, data);\r\n            };\r\n        };\r\n    }\r\n    emit(eventName, data = null) {\r\n        (0,_geckos_io_common_lib_sendMessage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.dataChannel, this.maxMessageSize, eventName, data);\r\n    }\r\n    // fetch additional candidates\r\n    async fetchAdditionalCandidates(host, id) {\r\n        const res = await fetch(`${host}/connections/${id}/additional-candidates`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        if (res.ok) {\r\n            const candidates = await res.json();\r\n            // eslint-disable-next-line no-undef\r\n            candidates.forEach((c) => {\r\n                // eslint-disable-line no-undef\r\n                this.localPeerConnection.addIceCandidate(c);\r\n            });\r\n        }\r\n    }\r\n    async connect() {\r\n        const host = `${this.url}/.wrtc/v2`;\r\n        let headers = { 'Content-Type': 'application/json' };\r\n        if (this.authorization)\r\n            headers = { ...headers, ['Authorization']: this.authorization };\r\n        let userData = {};\r\n        try {\r\n            const res = await fetch(`${host}/connections`, {\r\n                method: 'POST',\r\n                headers\r\n            });\r\n            if (res.status >= 300) {\r\n                throw {\r\n                    name: 'Error',\r\n                    message: `Connection failed with status code ${res.status}.`,\r\n                    status: res.status,\r\n                    statusText: res.statusText\r\n                };\r\n            }\r\n            const json = await res.json();\r\n            userData = json.userData;\r\n            this.remotePeerConnection = json;\r\n        }\r\n        catch (error) {\r\n            console.error(error.message);\r\n            return { error };\r\n        }\r\n        const { id, localDescription } = this.remotePeerConnection;\r\n        /**\r\n         * testing\r\n         */\r\n        // console.log(localDescription.sdp?.split('\\n'))\r\n        // remove all host type candidates (for testing)\r\n        // let removedHostCandidates: any[] = []\r\n        // localDescription.sdp = localDescription.sdp\r\n        //   ?.split('\\n')\r\n        //   .filter(line => {\r\n        //     if (/typ host/.test(line)) {\r\n        //       console.log('removing', line)\r\n        //       removedHostCandidates.push(line.replace('a=', '').trim())\r\n        //     }\r\n        //     return !/typ host/.test(line)\r\n        //   })\r\n        //   .join('\\n')\r\n        // console.log(localDescription.sdp)\r\n        // add all (host) candidates manually\r\n        // setTimeout(() => {\r\n        //   removedHostCandidates.forEach(candidate => {\r\n        //     console.log('try to add candidate: ', candidate)\r\n        //     this.localPeerConnection.addIceCandidate({ candidate, sdpMid: '0', sdpMLineIndex: 0 })\r\n        //   })\r\n        // }, 2000)\r\n        // eslint-disable-next-line no-undef\r\n        const configuration = {\r\n            // @ts-ignore\r\n            sdpSemantics: 'unified-plan',\r\n            ...this.rtcConfiguration\r\n        };\r\n        // @ts-ignore\r\n        const RTCPc = RTCPeerConnection || webkitRTCPeerConnection; // eslint-disable-line no-undef\r\n        // create rtc peer connection\r\n        this.localPeerConnection = new RTCPc(configuration);\r\n        // get additional ice candidates\r\n        // we do still continue to gather candidates even if the connection is established,\r\n        // maybe we get a better connection.\r\n        // So the server is still gathering candidates and we ask for them frequently.\r\n        const showBackOffIntervals = (attempts = 10, initial = 50, factor = 1.8, jitter = 20) => Array(attempts)\r\n            .fill(0)\r\n            .map((_, index) => parseInt((initial * factor ** index).toString()) + parseInt((Math.random() * jitter).toString()));\r\n        showBackOffIntervals().forEach(ms => {\r\n            setTimeout(() => {\r\n                this.fetchAdditionalCandidates(host, id).catch(() => { });\r\n            }, ms);\r\n        });\r\n        try {\r\n            await this.localPeerConnection.setRemoteDescription(localDescription);\r\n            this.localPeerConnection.addEventListener('datachannel', this.onDataChannel, { once: true });\r\n            const originalAnswer = await this.localPeerConnection.createAnswer();\r\n            const updatedAnswer = new RTCSessionDescription({\r\n                type: 'answer',\r\n                sdp: originalAnswer.sdp\r\n            });\r\n            await this.localPeerConnection.setLocalDescription(updatedAnswer);\r\n            try {\r\n                await fetch(`${host}/connections/${id}/remote-description`, {\r\n                    method: 'POST',\r\n                    body: JSON.stringify(this.localPeerConnection.localDescription),\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                });\r\n            }\r\n            catch (error) {\r\n                console.error(error.message);\r\n                return { error };\r\n            }\r\n            const waitForDataChannel = () => {\r\n                return new Promise(resolve => {\r\n                    this.localPeerConnection.addEventListener('datachannel', () => {\r\n                        resolve();\r\n                    }, { once: true });\r\n                });\r\n            };\r\n            if (!this.dataChannel)\r\n                await waitForDataChannel();\r\n            return {\r\n                userData,\r\n                localPeerConnection: this.localPeerConnection,\r\n                dataChannel: this.dataChannel,\r\n                id: id\r\n            };\r\n        }\r\n        catch (error) {\r\n            console.error(error.message);\r\n            this.localPeerConnection.close();\r\n            return { error };\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=connectionsManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL3dydGMvY29ubmVjdGlvbnNNYW5hZ2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmRtZXRhcy8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NsaWVudC9saWIvd3J0Yy9jb25uZWN0aW9uc01hbmFnZXIuanM/M2EyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCcmlkZ2UgfSBmcm9tICdAZ2Vja29zLmlvL2NvbW1vbi9saWIvYnJpZGdlLmpzJztcclxuaW1wb3J0IFBhcnNlTWVzc2FnZSBmcm9tICdAZ2Vja29zLmlvL2NvbW1vbi9saWIvcGFyc2VNZXNzYWdlLmpzJztcclxuaW1wb3J0IFNlbmRNZXNzYWdlIGZyb20gJ0BnZWNrb3MuaW8vY29tbW9uL2xpYi9zZW5kTWVzc2FnZS5qcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbm5lY3Rpb25zTWFuYWdlckNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIGF1dGhvcml6YXRpb24sIGxhYmVsLCBydGNDb25maWd1cmF0aW9uIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuYXV0aG9yaXphdGlvbiA9IGF1dGhvcml6YXRpb247XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICAgIHRoaXMucnRjQ29uZmlndXJhdGlvbiA9IHJ0Y0NvbmZpZ3VyYXRpb247XHJcbiAgICAgICAgdGhpcy5icmlkZ2UgPSBuZXcgQnJpZGdlKCk7XHJcbiAgICAgICAgdGhpcy5vbkRhdGFDaGFubmVsID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhbm5lbCB9ID0gZXY7XHJcbiAgICAgICAgICAgIGlmIChjaGFubmVsLmxhYmVsICE9PSB0aGlzLmxhYmVsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gY2hhbm5lbDtcclxuICAgICAgICAgICAgLy8gc2V0IGRlZmF1bHQgYmluYXJ5VHlwZSB0byBhcnJheWJ1ZmZlclxyXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZS13ZWJydGMvbm9kZS13ZWJydGMvaXNzdWVzLzQ0MVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsLm9ubWVzc2FnZSA9IChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBrZXksIGRhdGEgfSA9IFBhcnNlTWVzc2FnZShldik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyaWRnZS5lbWl0KGtleSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVtaXQoZXZlbnROYW1lLCBkYXRhID0gbnVsbCkge1xyXG4gICAgICAgIFNlbmRNZXNzYWdlKHRoaXMuZGF0YUNoYW5uZWwsIHRoaXMubWF4TWVzc2FnZVNpemUsIGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvLyBmZXRjaCBhZGRpdGlvbmFsIGNhbmRpZGF0ZXNcclxuICAgIGFzeW5jIGZldGNoQWRkaXRpb25hbENhbmRpZGF0ZXMoaG9zdCwgaWQpIHtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtob3N0fS9jb25uZWN0aW9ucy8ke2lkfS9hZGRpdGlvbmFsLWNhbmRpZGF0ZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgICBjYW5kaWRhdGVzLmZvckVhY2goKGMpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoYyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc3QgaG9zdCA9IGAke3RoaXMudXJsfS8ud3J0Yy92MmA7XHJcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcclxuICAgICAgICBpZiAodGhpcy5hdXRob3JpemF0aW9uKVxyXG4gICAgICAgICAgICBoZWFkZXJzID0geyAuLi5oZWFkZXJzLCBbJ0F1dGhvcml6YXRpb24nXTogdGhpcy5hdXRob3JpemF0aW9uIH07XHJcbiAgICAgICAgbGV0IHVzZXJEYXRhID0ge307XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7aG9zdH0vY29ubmVjdGlvbnNgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID49IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENvbm5lY3Rpb24gZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJHtyZXMuc3RhdHVzfS5gLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXMuc3RhdHVzVGV4dFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgdXNlckRhdGEgPSBqc29uLnVzZXJEYXRhO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBlZXJDb25uZWN0aW9uID0ganNvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgaWQsIGxvY2FsRGVzY3JpcHRpb24gfSA9IHRoaXMucmVtb3RlUGVlckNvbm5lY3Rpb247XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogdGVzdGluZ1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxvY2FsRGVzY3JpcHRpb24uc2RwPy5zcGxpdCgnXFxuJykpXHJcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBob3N0IHR5cGUgY2FuZGlkYXRlcyAoZm9yIHRlc3RpbmcpXHJcbiAgICAgICAgLy8gbGV0IHJlbW92ZWRIb3N0Q2FuZGlkYXRlczogYW55W10gPSBbXVxyXG4gICAgICAgIC8vIGxvY2FsRGVzY3JpcHRpb24uc2RwID0gbG9jYWxEZXNjcmlwdGlvbi5zZHBcclxuICAgICAgICAvLyAgID8uc3BsaXQoJ1xcbicpXHJcbiAgICAgICAgLy8gICAuZmlsdGVyKGxpbmUgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoL3R5cCBob3N0Ly50ZXN0KGxpbmUpKSB7XHJcbiAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coJ3JlbW92aW5nJywgbGluZSlcclxuICAgICAgICAvLyAgICAgICByZW1vdmVkSG9zdENhbmRpZGF0ZXMucHVzaChsaW5lLnJlcGxhY2UoJ2E9JywgJycpLnRyaW0oKSlcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICByZXR1cm4gIS90eXAgaG9zdC8udGVzdChsaW5lKVxyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyAgIC5qb2luKCdcXG4nKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxvY2FsRGVzY3JpcHRpb24uc2RwKVxyXG4gICAgICAgIC8vIGFkZCBhbGwgKGhvc3QpIGNhbmRpZGF0ZXMgbWFudWFsbHlcclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyAgIHJlbW92ZWRIb3N0Q2FuZGlkYXRlcy5mb3JFYWNoKGNhbmRpZGF0ZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCd0cnkgdG8gYWRkIGNhbmRpZGF0ZTogJywgY2FuZGlkYXRlKVxyXG4gICAgICAgIC8vICAgICB0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKHsgY2FuZGlkYXRlLCBzZHBNaWQ6ICcwJywgc2RwTUxpbmVJbmRleDogMCB9KVxyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyB9LCAyMDAwKVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgc2RwU2VtYW50aWNzOiAndW5pZmllZC1wbGFuJyxcclxuICAgICAgICAgICAgLi4udGhpcy5ydGNDb25maWd1cmF0aW9uXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY29uc3QgUlRDUGMgPSBSVENQZWVyQ29ubmVjdGlvbiB8fCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxyXG4gICAgICAgIC8vIGNyZWF0ZSBydGMgcGVlciBjb25uZWN0aW9uXHJcbiAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BjKGNvbmZpZ3VyYXRpb24pO1xyXG4gICAgICAgIC8vIGdldCBhZGRpdGlvbmFsIGljZSBjYW5kaWRhdGVzXHJcbiAgICAgICAgLy8gd2UgZG8gc3RpbGwgY29udGludWUgdG8gZ2F0aGVyIGNhbmRpZGF0ZXMgZXZlbiBpZiB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCxcclxuICAgICAgICAvLyBtYXliZSB3ZSBnZXQgYSBiZXR0ZXIgY29ubmVjdGlvbi5cclxuICAgICAgICAvLyBTbyB0aGUgc2VydmVyIGlzIHN0aWxsIGdhdGhlcmluZyBjYW5kaWRhdGVzIGFuZCB3ZSBhc2sgZm9yIHRoZW0gZnJlcXVlbnRseS5cclxuICAgICAgICBjb25zdCBzaG93QmFja09mZkludGVydmFscyA9IChhdHRlbXB0cyA9IDEwLCBpbml0aWFsID0gNTAsIGZhY3RvciA9IDEuOCwgaml0dGVyID0gMjApID0+IEFycmF5KGF0dGVtcHRzKVxyXG4gICAgICAgICAgICAuZmlsbCgwKVxyXG4gICAgICAgICAgICAubWFwKChfLCBpbmRleCkgPT4gcGFyc2VJbnQoKGluaXRpYWwgKiBmYWN0b3IgKiogaW5kZXgpLnRvU3RyaW5nKCkpICsgcGFyc2VJbnQoKE1hdGgucmFuZG9tKCkgKiBqaXR0ZXIpLnRvU3RyaW5nKCkpKTtcclxuICAgICAgICBzaG93QmFja09mZkludGVydmFscygpLmZvckVhY2gobXMgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hBZGRpdGlvbmFsQ2FuZGlkYXRlcyhob3N0LCBpZCkuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgICAgICAgICAgfSwgbXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYWxQZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihsb2NhbERlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFjaGFubmVsJywgdGhpcy5vbkRhdGFDaGFubmVsLCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQW5zd2VyID0gYXdhaXQgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkQW5zd2VyID0gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnYW5zd2VyJyxcclxuICAgICAgICAgICAgICAgIHNkcDogb3JpZ2luYWxBbnN3ZXIuc2RwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih1cGRhdGVkQW5zd2VyKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKGAke2hvc3R9L2Nvbm5lY3Rpb25zLyR7aWR9L3JlbW90ZS1kZXNjcmlwdGlvbmAsIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbiksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB3YWl0Rm9yRGF0YUNoYW5uZWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFjaGFubmVsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5kYXRhQ2hhbm5lbClcclxuICAgICAgICAgICAgICAgIGF3YWl0IHdhaXRGb3JEYXRhQ2hhbm5lbCgpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdXNlckRhdGEsXHJcbiAgICAgICAgICAgICAgICBsb2NhbFBlZXJDb25uZWN0aW9uOiB0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbDogdGhpcy5kYXRhQ2hhbm5lbCxcclxuICAgICAgICAgICAgICAgIGlkOiBpZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3Rpb25zTWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PeerConnection)\n/* harmony export */ });\n/* harmony import */ var _geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @geckos.io/common/lib/constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n\r\nclass PeerConnection {\r\n    async connect(connectionsManager) {\r\n        // @ts-ignore\r\n        const webRTCPcSupported = RTCPeerConnection || webkitRTCPeerConnection; // eslint-disable-line no-undef\r\n        if (webRTCPcSupported) {\r\n            const { localPeerConnection, dataChannel, id, userData, error } = await connectionsManager.connect();\r\n            if (error)\r\n                return { error };\r\n            if (!localPeerConnection || !dataChannel || !id || !userData)\r\n                return { error: new Error('Something went wrong in \"await connectionsManager.connect()\"') };\r\n            this.localPeerConnection = localPeerConnection;\r\n            this.dataChannel = dataChannel;\r\n            this.id = id;\r\n            return { userData };\r\n        }\r\n        else {\r\n            const error = new Error(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_0__.ERRORS.BROWSER_NOT_SUPPORTED);\r\n            console.error(error.message);\r\n            return { error };\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=peerConnection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL3dydGMvcGVlckNvbm5lY3Rpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmRtZXRhcy8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NsaWVudC9saWIvd3J0Yy9wZWVyQ29ubmVjdGlvbi5qcz8yOTIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVSUk9SUyB9IGZyb20gJ0BnZWNrb3MuaW8vY29tbW9uL2xpYi9jb25zdGFudHMuanMnO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQZWVyQ29ubmVjdGlvbiB7XHJcbiAgICBhc3luYyBjb25uZWN0KGNvbm5lY3Rpb25zTWFuYWdlcikge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCB3ZWJSVENQY1N1cHBvcnRlZCA9IFJUQ1BlZXJDb25uZWN0aW9uIHx8IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXHJcbiAgICAgICAgaWYgKHdlYlJUQ1BjU3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbG9jYWxQZWVyQ29ubmVjdGlvbiwgZGF0YUNoYW5uZWwsIGlkLCB1c2VyRGF0YSwgZXJyb3IgfSA9IGF3YWl0IGNvbm5lY3Rpb25zTWFuYWdlci5jb25uZWN0KCk7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcilcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XHJcbiAgICAgICAgICAgIGlmICghbG9jYWxQZWVyQ29ubmVjdGlvbiB8fCAhZGF0YUNoYW5uZWwgfHwgIWlkIHx8ICF1c2VyRGF0YSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yOiBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nIGluIFwiYXdhaXQgY29ubmVjdGlvbnNNYW5hZ2VyLmNvbm5lY3QoKVwiJykgfTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uID0gbG9jYWxQZWVyQ29ubmVjdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IGRhdGFDaGFubmVsO1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHVzZXJEYXRhIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihFUlJPUlMuQlJPV1NFUl9OT1RfU1VQUE9SVEVEKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGVlckNvbm5lY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/bridge.js":
/*!******************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/bridge.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Bridge\": () => (/* binding */ Bridge),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _yandeu_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @yandeu/events */ \"./node_modules/@yandeu/events/cjs/index.js\");\n\r\nclass Bridge {\r\n    constructor() {\r\n        this.eventEmitter = new _yandeu_events__WEBPACK_IMPORTED_MODULE_0__.Events();\r\n    }\r\n    emit(eventName, data, connection = {}) {\r\n        this.eventEmitter.emit(eventName, data, connection);\r\n    }\r\n    on(eventName, cb) {\r\n        return this.eventEmitter.on(eventName, (data, options) => {\r\n            cb(data, options);\r\n        });\r\n    }\r\n    removeAllListeners() {\r\n        this.eventEmitter.removeAllListeners();\r\n    }\r\n}\r\nconst bridge = new Bridge();\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (bridge);\r\n//# sourceMappingURL=bridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2JyaWRnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkbWV0YXMvLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2JyaWRnZS5qcz9kYTczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJ0B5YW5kZXUvZXZlbnRzJztcclxuZXhwb3J0IGNsYXNzIEJyaWRnZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IG5ldyBFdmVudHMoKTtcclxuICAgIH1cclxuICAgIGVtaXQoZXZlbnROYW1lLCBkYXRhLCBjb25uZWN0aW9uID0ge30pIHtcclxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KGV2ZW50TmFtZSwgZGF0YSwgY29ubmVjdGlvbik7XHJcbiAgICB9XHJcbiAgICBvbihldmVudE5hbWUsIGNiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRFbWl0dGVyLm9uKGV2ZW50TmFtZSwgKGRhdGEsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICAgICAgY2IoZGF0YSwgb3B0aW9ucyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgYnJpZGdlID0gbmV3IEJyaWRnZSgpO1xyXG5leHBvcnQgZGVmYXVsdCBicmlkZ2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyaWRnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/bridge.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/constants.js":
/*!*********************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/constants.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EVENTS\": () => (/* binding */ EVENTS),\n/* harmony export */   \"ERRORS\": () => (/* binding */ ERRORS)\n/* harmony export */ });\nconst EVENTS = {\r\n    CONNECT: 'connect',\r\n    CONNECTION: 'connection',\r\n    DATA_CHANNEL_IS_OPEN: 'dataChannelIsOpen',\r\n    DISCONNECT: 'disconnect',\r\n    DISCONNECTED: 'disconnected',\r\n    DROP: 'dropped',\r\n    ERROR: 'error',\r\n    RAW_MESSAGE: 'rawMessage',\r\n    RECEIVED_FROM_DATA_CHANNEL: 'receiveFromDataChannel',\r\n    SEND_OVER_DATA_CHANNEL: 'sendOverDataChannel'\r\n};\r\nconst ERRORS = {\r\n    BROWSER_NOT_SUPPORTED: 'BROWSER_NOT_SUPPORTED',\r\n    COULD_NOT_PARSE_MESSAGE: 'COULD_NOT_PARSE_MESSAGE',\r\n    DROPPED_FROM_BUFFERING: 'DROPPED_FROM_BUFFERING',\r\n    MAX_MESSAGE_SIZE_EXCEEDED: 'MAX_MESSAGE_SIZE_EXCEEDED'\r\n};\r\n\r\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2NvbnN0YW50cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmRtZXRhcy8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NvbW1vbi9saWIvY29uc3RhbnRzLmpzP2M1MGYiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRVZFTlRTID0ge1xyXG4gICAgQ09OTkVDVDogJ2Nvbm5lY3QnLFxyXG4gICAgQ09OTkVDVElPTjogJ2Nvbm5lY3Rpb24nLFxyXG4gICAgREFUQV9DSEFOTkVMX0lTX09QRU46ICdkYXRhQ2hhbm5lbElzT3BlbicsXHJcbiAgICBESVNDT05ORUNUOiAnZGlzY29ubmVjdCcsXHJcbiAgICBESVNDT05ORUNURUQ6ICdkaXNjb25uZWN0ZWQnLFxyXG4gICAgRFJPUDogJ2Ryb3BwZWQnLFxyXG4gICAgRVJST1I6ICdlcnJvcicsXHJcbiAgICBSQVdfTUVTU0FHRTogJ3Jhd01lc3NhZ2UnLFxyXG4gICAgUkVDRUlWRURfRlJPTV9EQVRBX0NIQU5ORUw6ICdyZWNlaXZlRnJvbURhdGFDaGFubmVsJyxcclxuICAgIFNFTkRfT1ZFUl9EQVRBX0NIQU5ORUw6ICdzZW5kT3ZlckRhdGFDaGFubmVsJ1xyXG59O1xyXG5jb25zdCBFUlJPUlMgPSB7XHJcbiAgICBCUk9XU0VSX05PVF9TVVBQT1JURUQ6ICdCUk9XU0VSX05PVF9TVVBQT1JURUQnLFxyXG4gICAgQ09VTERfTk9UX1BBUlNFX01FU1NBR0U6ICdDT1VMRF9OT1RfUEFSU0VfTUVTU0FHRScsXHJcbiAgICBEUk9QUEVEX0ZST01fQlVGRkVSSU5HOiAnRFJPUFBFRF9GUk9NX0JVRkZFUklORycsXHJcbiAgICBNQVhfTUVTU0FHRV9TSVpFX0VYQ0VFREVEOiAnTUFYX01FU1NBR0VfU0laRV9FWENFRURFRCdcclxufTtcclxuZXhwb3J0IHsgRVZFTlRTLCBFUlJPUlMgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/constants.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/helpers.js":
/*!*******************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/helpers.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"promiseWithTimeout\": () => (/* binding */ promiseWithTimeout),\n/* harmony export */   \"pause\": () => (/* binding */ pause),\n/* harmony export */   \"task\": () => (/* binding */ task),\n/* harmony export */   \"tick\": () => (/* binding */ tick),\n/* harmony export */   \"isStringMessage\": () => (/* binding */ isStringMessage),\n/* harmony export */   \"isBufferMessage\": () => (/* binding */ isBufferMessage),\n/* harmony export */   \"isJSONMessage\": () => (/* binding */ isJSONMessage)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"./node_modules/@geckos.io/common/lib/types.js\");\n\r\n// const isRawMessage = (data: Data | RawMessage) => {\r\n//   return typeof data === 'string' || isBufferMessage(data)\r\n// }\r\n// https://dev.to/nikosanif/create-promises-with-timeout-error-in-typescript-fmm\r\n/** create a promise with a timeout */\r\nconst promiseWithTimeout = (promise, ms, timeoutError = new Error('Promise timed out')) => {\r\n    // create a promise that rejects in milliseconds\r\n    const timeout = new Promise((_, reject) => {\r\n        setTimeout(() => {\r\n            reject(timeout);\r\n        }, ms);\r\n    });\r\n    // returns a race between timeout and the passed promise\r\n    return Promise.race([promise, timeout]);\r\n};\r\n/** make a small promise-based pause */\r\nconst pause = (ms = 0) => {\r\n    return new Promise(resolve => {\r\n        setTimeout(() => {\r\n            resolve();\r\n        }, ms);\r\n    });\r\n};\r\n/** creates a new Task using setTimeout() */\r\nconst task = (task) => setTimeout(task, 0);\r\n/** creates a new Microtask using Promise() */\r\nconst tick = typeof Promise == 'function' ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout;\r\nconst isStringMessage = (data) => {\r\n    return typeof data === 'string';\r\n};\r\nconst isBufferMessage = (data) => {\r\n    return data instanceof ArrayBuffer || data instanceof _types_js__WEBPACK_IMPORTED_MODULE_0__.ArrayBufferView;\r\n};\r\nconst isJSONMessage = (data) => {\r\n    try {\r\n        // check if it is a string\r\n        if (typeof data !== 'string')\r\n            return false;\r\n        // check if it is a number as a string\r\n        if (!isNaN(parseInt(data)))\r\n            return false;\r\n        // check if it is a JSON object\r\n        JSON.parse(data);\r\n        return true;\r\n    }\r\n    catch (error) {\r\n        return false;\r\n    }\r\n};\r\n\r\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2hlbHBlcnMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZG1ldGFzLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY29tbW9uL2xpYi9oZWxwZXJzLmpzPzg0MzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXJyYXlCdWZmZXJWaWV3IH0gZnJvbSAnLi90eXBlcy5qcyc7XHJcbi8vIGNvbnN0IGlzUmF3TWVzc2FnZSA9IChkYXRhOiBEYXRhIHwgUmF3TWVzc2FnZSkgPT4ge1xyXG4vLyAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycgfHwgaXNCdWZmZXJNZXNzYWdlKGRhdGEpXHJcbi8vIH1cclxuLy8gaHR0cHM6Ly9kZXYudG8vbmlrb3NhbmlmL2NyZWF0ZS1wcm9taXNlcy13aXRoLXRpbWVvdXQtZXJyb3ItaW4tdHlwZXNjcmlwdC1mbW1cclxuLyoqIGNyZWF0ZSBhIHByb21pc2Ugd2l0aCBhIHRpbWVvdXQgKi9cclxuZXhwb3J0IGNvbnN0IHByb21pc2VXaXRoVGltZW91dCA9IChwcm9taXNlLCBtcywgdGltZW91dEVycm9yID0gbmV3IEVycm9yKCdQcm9taXNlIHRpbWVkIG91dCcpKSA9PiB7XHJcbiAgICAvLyBjcmVhdGUgYSBwcm9taXNlIHRoYXQgcmVqZWN0cyBpbiBtaWxsaXNlY29uZHNcclxuICAgIGNvbnN0IHRpbWVvdXQgPSBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlamVjdCh0aW1lb3V0KTtcclxuICAgICAgICB9LCBtcyk7XHJcbiAgICB9KTtcclxuICAgIC8vIHJldHVybnMgYSByYWNlIGJldHdlZW4gdGltZW91dCBhbmQgdGhlIHBhc3NlZCBwcm9taXNlXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLCB0aW1lb3V0XSk7XHJcbn07XHJcbi8qKiBtYWtlIGEgc21hbGwgcHJvbWlzZS1iYXNlZCBwYXVzZSAqL1xyXG5leHBvcnQgY29uc3QgcGF1c2UgPSAobXMgPSAwKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9LCBtcyk7XHJcbiAgICB9KTtcclxufTtcclxuLyoqIGNyZWF0ZXMgYSBuZXcgVGFzayB1c2luZyBzZXRUaW1lb3V0KCkgKi9cclxuZXhwb3J0IGNvbnN0IHRhc2sgPSAodGFzaykgPT4gc2V0VGltZW91dCh0YXNrLCAwKTtcclxuLyoqIGNyZWF0ZXMgYSBuZXcgTWljcm90YXNrIHVzaW5nIFByb21pc2UoKSAqL1xyXG5leHBvcnQgY29uc3QgdGljayA9IHR5cGVvZiBQcm9taXNlID09ICdmdW5jdGlvbicgPyBQcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpIDogc2V0VGltZW91dDtcclxuY29uc3QgaXNTdHJpbmdNZXNzYWdlID0gKGRhdGEpID0+IHtcclxuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZyc7XHJcbn07XHJcbmNvbnN0IGlzQnVmZmVyTWVzc2FnZSA9IChkYXRhKSA9PiB7XHJcbiAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclZpZXc7XHJcbn07XHJcbmNvbnN0IGlzSlNPTk1lc3NhZ2UgPSAoZGF0YSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBjaGVjayBpZiBpdCBpcyBhIHN0cmluZ1xyXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyBjaGVjayBpZiBpdCBpcyBhIG51bWJlciBhcyBhIHN0cmluZ1xyXG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQoZGF0YSkpKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgaXQgaXMgYSBKU09OIG9iamVjdFxyXG4gICAgICAgIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydCB7IGlzU3RyaW5nTWVzc2FnZSwgaXNCdWZmZXJNZXNzYWdlLCBpc0pTT05NZXNzYWdlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/helpers.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/makeRandomId.js":
/*!************************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/makeRandomId.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst makeRandomId = (length = 24) => {\r\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let id = '';\r\n    for (let i = 0; i < length; i++) {\r\n        id += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return id;\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (makeRandomId);\r\n//# sourceMappingURL=makeRandomId.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL21ha2VSYW5kb21JZC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmRtZXRhcy8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NvbW1vbi9saWIvbWFrZVJhbmRvbUlkLmpzP2ViZTAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbWFrZVJhbmRvbUlkID0gKGxlbmd0aCA9IDI0KSA9PiB7XHJcbiAgICBjb25zdCBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcbiAgICBsZXQgaWQgPSAnJztcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaWQ7XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IG1ha2VSYW5kb21JZDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFrZVJhbmRvbUlkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/makeRandomId.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/parseMessage.js":
/*!************************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/parseMessage.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers.js */ \"./node_modules/@geckos.io/common/lib/helpers.js\");\n\r\n\r\nconst ParseMessage = (ev) => {\r\n    let { data } = ev;\r\n    if (!data)\r\n        data = ev;\r\n    const isBuffer = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isBufferMessage)(data);\r\n    const isJson = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isJSONMessage)(data);\r\n    const isString = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isStringMessage)(data);\r\n    // if (!data && isRaw) return { key: EVENTS.RAW_MESSAGE, data }\r\n    // // probably server-side\r\n    // if (!data) {\r\n    //   if (isRawMessage(data)) {\r\n    //     return { key: EVENTS.RAW_MESSAGE, data: data }\r\n    //   } else {\r\n    //     const json = JSON.parse(data as any)\r\n    //     const key = Object.keys(json)[0]\r\n    //     const value = Object.values(json)[0]\r\n    //     return { key: key, data: value }\r\n    //   }\r\n    // }\r\n    if (isJson) {\r\n        const object = JSON.parse(data);\r\n        const key = Object.keys(object)[0];\r\n        const value = object[key];\r\n        return { key: key, data: value };\r\n    }\r\n    if (isBuffer) {\r\n        return { key: _constants_js__WEBPACK_IMPORTED_MODULE_0__.EVENTS.RAW_MESSAGE, data: data };\r\n    }\r\n    if (isString) {\r\n        return { key: _constants_js__WEBPACK_IMPORTED_MODULE_0__.EVENTS.RAW_MESSAGE, data: data };\r\n    }\r\n    return { key: 'error', data: new Error(_constants_js__WEBPACK_IMPORTED_MODULE_0__.ERRORS.COULD_NOT_PARSE_MESSAGE) };\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ParseMessage);\r\n//# sourceMappingURL=parseMessage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3BhcnNlTWVzc2FnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZG1ldGFzLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY29tbW9uL2xpYi9wYXJzZU1lc3NhZ2UuanM/Yzk3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFUlJPUlMsIEVWRU5UUyB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IHsgaXNCdWZmZXJNZXNzYWdlLCBpc0pTT05NZXNzYWdlLCBpc1N0cmluZ01lc3NhZ2UgfSBmcm9tICcuL2hlbHBlcnMuanMnO1xyXG5jb25zdCBQYXJzZU1lc3NhZ2UgPSAoZXYpID0+IHtcclxuICAgIGxldCB7IGRhdGEgfSA9IGV2O1xyXG4gICAgaWYgKCFkYXRhKVxyXG4gICAgICAgIGRhdGEgPSBldjtcclxuICAgIGNvbnN0IGlzQnVmZmVyID0gaXNCdWZmZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgY29uc3QgaXNKc29uID0gaXNKU09OTWVzc2FnZShkYXRhKTtcclxuICAgIGNvbnN0IGlzU3RyaW5nID0gaXNTdHJpbmdNZXNzYWdlKGRhdGEpO1xyXG4gICAgLy8gaWYgKCFkYXRhICYmIGlzUmF3KSByZXR1cm4geyBrZXk6IEVWRU5UUy5SQVdfTUVTU0FHRSwgZGF0YSB9XHJcbiAgICAvLyAvLyBwcm9iYWJseSBzZXJ2ZXItc2lkZVxyXG4gICAgLy8gaWYgKCFkYXRhKSB7XHJcbiAgICAvLyAgIGlmIChpc1Jhd01lc3NhZ2UoZGF0YSkpIHtcclxuICAgIC8vICAgICByZXR1cm4geyBrZXk6IEVWRU5UUy5SQVdfTUVTU0FHRSwgZGF0YTogZGF0YSB9XHJcbiAgICAvLyAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZGF0YSBhcyBhbnkpXHJcbiAgICAvLyAgICAgY29uc3Qga2V5ID0gT2JqZWN0LmtleXMoanNvbilbMF1cclxuICAgIC8vICAgICBjb25zdCB2YWx1ZSA9IE9iamVjdC52YWx1ZXMoanNvbilbMF1cclxuICAgIC8vICAgICByZXR1cm4geyBrZXk6IGtleSwgZGF0YTogdmFsdWUgfVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgICBpZiAoaXNKc29uKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhvYmplY3QpWzBdO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV07XHJcbiAgICAgICAgcmV0dXJuIHsga2V5OiBrZXksIGRhdGE6IHZhbHVlIH07XHJcbiAgICB9XHJcbiAgICBpZiAoaXNCdWZmZXIpIHtcclxuICAgICAgICByZXR1cm4geyBrZXk6IEVWRU5UUy5SQVdfTUVTU0FHRSwgZGF0YTogZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgaWYgKGlzU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHsga2V5OiBFVkVOVFMuUkFXX01FU1NBR0UsIGRhdGE6IGRhdGEgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7IGtleTogJ2Vycm9yJywgZGF0YTogbmV3IEVycm9yKEVSUk9SUy5DT1VMRF9OT1RfUEFSU0VfTUVTU0FHRSkgfTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgUGFyc2VNZXNzYWdlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZU1lc3NhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/parseMessage.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/reliableMessage.js":
/*!***************************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/reliableMessage.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"makeReliable\": () => (/* binding */ makeReliable)\n/* harmony export */ });\n/* harmony import */ var _makeRandomId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./makeRandomId.js */ \"./node_modules/@geckos.io/common/lib/makeRandomId.js\");\n/* harmony import */ var _runInterval_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runInterval.js */ \"./node_modules/@geckos.io/common/lib/runInterval.js\");\n\r\n\r\nconst makeReliable = (options, cb) => {\r\n    const { interval = 150, runs = 10 } = options;\r\n    const id = (0,_makeRandomId_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(24);\r\n    (0,_runInterval_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(interval, runs, () => {\r\n        cb(id);\r\n    });\r\n};\r\n\r\n//# sourceMappingURL=reliableMessage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3JlbGlhYmxlTWVzc2FnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkbWV0YXMvLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3JlbGlhYmxlTWVzc2FnZS5qcz8zZjUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlUmFuZG9tSWQgZnJvbSAnLi9tYWtlUmFuZG9tSWQuanMnO1xyXG5pbXBvcnQgcnVuSW50ZXJ2YWwgZnJvbSAnLi9ydW5JbnRlcnZhbC5qcyc7XHJcbmNvbnN0IG1ha2VSZWxpYWJsZSA9IChvcHRpb25zLCBjYikgPT4ge1xyXG4gICAgY29uc3QgeyBpbnRlcnZhbCA9IDE1MCwgcnVucyA9IDEwIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgaWQgPSBtYWtlUmFuZG9tSWQoMjQpO1xyXG4gICAgcnVuSW50ZXJ2YWwoaW50ZXJ2YWwsIHJ1bnMsICgpID0+IHtcclxuICAgICAgICBjYihpZCk7XHJcbiAgICB9KTtcclxufTtcclxuZXhwb3J0IHsgbWFrZVJlbGlhYmxlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbGlhYmxlTWVzc2FnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/reliableMessage.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/runInterval.js":
/*!***********************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/runInterval.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst runInterval = (interval = 200, runs = 1, cb) => {\r\n    let counter = 0;\r\n    if (typeof cb !== 'function') {\r\n        console.error('You have to define your callback function!');\r\n        return;\r\n    }\r\n    const i = setInterval(() => {\r\n        cb();\r\n        counter++;\r\n        if (counter === runs - 1) {\r\n            clearInterval(i);\r\n        }\r\n    }, interval);\r\n    cb();\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (runInterval);\r\n//# sourceMappingURL=runInterval.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3J1bkludGVydmFsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFzaGJvYXJkbWV0YXMvLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3J1bkludGVydmFsLmpzP2E4NzkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcnVuSW50ZXJ2YWwgPSAoaW50ZXJ2YWwgPSAyMDAsIHJ1bnMgPSAxLCBjYikgPT4ge1xyXG4gICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1lvdSBoYXZlIHRvIGRlZmluZSB5b3VyIGNhbGxiYWNrIGZ1bmN0aW9uIScpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgY2IoKTtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgaWYgKGNvdW50ZXIgPT09IHJ1bnMgLSAxKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgaW50ZXJ2YWwpO1xyXG4gICAgY2IoKTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgcnVuSW50ZXJ2YWw7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bkludGVydmFsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/runInterval.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/sendMessage.js":
/*!***********************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/sendMessage.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers.js */ \"./node_modules/@geckos.io/common/lib/helpers.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n\r\n\r\nconst SendMessage = (dataChannel, maxMessageSize, eventName, data = null) => {\r\n    var _a;\r\n    const send = (data, isBuffer) => {\r\n        var _a;\r\n        const bytes = (_a = data.byteLength) !== null && _a !== void 0 ? _a : data.length * 2; // (times 2 for characters that uses 2 bytes per char)\r\n        if (typeof maxMessageSize === 'number' && bytes > maxMessageSize) {\r\n            throw new Error(`maxMessageSize of ${maxMessageSize} exceeded`);\r\n        }\r\n        else {\r\n            Promise.resolve()\r\n                .then(() => {\r\n                // server-side (send() does not exist on the server side)\r\n                if (dataChannel.send)\r\n                    dataChannel.send(data);\r\n                else {\r\n                    if (!isBuffer)\r\n                        dataChannel.sendMessage(data);\r\n                    else\r\n                        dataChannel.sendMessageBinary(Buffer.from(data));\r\n                }\r\n            })\r\n                .catch(error => {\r\n                console.log('error', error);\r\n            });\r\n        }\r\n    };\r\n    if (!dataChannel)\r\n        return;\r\n    if (dataChannel.readyState === 'open' || ((_a = dataChannel.isOpen) === null || _a === void 0 ? void 0 : _a.call(dataChannel))) {\r\n        try {\r\n            if (eventName === _constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.RAW_MESSAGE && data !== null && ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isStringMessage)(data) || (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isBufferMessage)(data))) {\r\n                send(data, (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isBufferMessage)(data));\r\n            }\r\n            else {\r\n                send(JSON.stringify({ [eventName]: data }), false);\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.error('Error in sendMessage.ts: ', error.message);\r\n            return error;\r\n        }\r\n    }\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SendMessage);\r\n//# sourceMappingURL=sendMessage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3NlbmRNZXNzYWdlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmRtZXRhcy8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NvbW1vbi9saWIvc2VuZE1lc3NhZ2UuanM/NzdjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0J1ZmZlck1lc3NhZ2UsIGlzU3RyaW5nTWVzc2FnZSB9IGZyb20gJy4vaGVscGVycy5qcyc7XHJcbmltcG9ydCB7IEVWRU5UUyB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcclxuY29uc3QgU2VuZE1lc3NhZ2UgPSAoZGF0YUNoYW5uZWwsIG1heE1lc3NhZ2VTaXplLCBldmVudE5hbWUsIGRhdGEgPSBudWxsKSA9PiB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCBzZW5kID0gKGRhdGEsIGlzQnVmZmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGNvbnN0IGJ5dGVzID0gKF9hID0gZGF0YS5ieXRlTGVuZ3RoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkYXRhLmxlbmd0aCAqIDI7IC8vICh0aW1lcyAyIGZvciBjaGFyYWN0ZXJzIHRoYXQgdXNlcyAyIGJ5dGVzIHBlciBjaGFyKVxyXG4gICAgICAgIGlmICh0eXBlb2YgbWF4TWVzc2FnZVNpemUgPT09ICdudW1iZXInICYmIGJ5dGVzID4gbWF4TWVzc2FnZVNpemUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBtYXhNZXNzYWdlU2l6ZSBvZiAke21heE1lc3NhZ2VTaXplfSBleGNlZWRlZGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHNlcnZlci1zaWRlIChzZW5kKCkgZG9lcyBub3QgZXhpc3Qgb24gdGhlIHNlcnZlciBzaWRlKVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFDaGFubmVsLnNlbmQpXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNCdWZmZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLnNlbmRNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZE1lc3NhZ2VCaW5hcnkoQnVmZmVyLmZyb20oZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvcicsIGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmICghZGF0YUNoYW5uZWwpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKGRhdGFDaGFubmVsLnJlYWR5U3RhdGUgPT09ICdvcGVuJyB8fCAoKF9hID0gZGF0YUNoYW5uZWwuaXNPcGVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkYXRhQ2hhbm5lbCkpKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gRVZFTlRTLlJBV19NRVNTQUdFICYmIGRhdGEgIT09IG51bGwgJiYgKGlzU3RyaW5nTWVzc2FnZShkYXRhKSB8fCBpc0J1ZmZlck1lc3NhZ2UoZGF0YSkpKSB7XHJcbiAgICAgICAgICAgICAgICBzZW5kKGRhdGEsIGlzQnVmZmVyTWVzc2FnZShkYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZW5kKEpTT04uc3RyaW5naWZ5KHsgW2V2ZW50TmFtZV06IGRhdGEgfSksIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gc2VuZE1lc3NhZ2UudHM6ICcsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBTZW5kTWVzc2FnZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VuZE1lc3NhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/sendMessage.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/types.js":
/*!*****************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/types.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ArrayBufferView\": () => (/* binding */ ArrayBufferView)\n/* harmony export */ });\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\r\n\r\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3R5cGVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmRtZXRhcy8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NvbW1vbi9saWIvdHlwZXMuanM/MTA0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBcnJheUJ1ZmZlclZpZXcgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBVaW50OEFycmF5KCkpKS5jb25zdHJ1Y3RvcjtcclxuZXhwb3J0IHsgQXJyYXlCdWZmZXJWaWV3IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/types.js\n");

/***/ }),

/***/ "./public/client.js":
/*!**************************!*\
  !*** ./public/client.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _geckos_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @geckos.io/client */ \"./node_modules/@geckos.io/client/lib/index.js\");\n// <reference path=\"../phaser.d.ts\" />\r\n\r\n\r\nvar channel;\r\nvar user_info;\r\n\r\n\r\nchannel = (0,_geckos_io_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({ port: 3560 })\r\n\r\nvar infos = {\r\n  id:1,\r\n  nome:'Petryck',\r\n  token: 'dsadsadsa'\r\n}\r\n\r\nlocalStorage.setItem( 'info_usuario', JSON.stringify(infos) );\r\n\r\n\r\nuser_info = JSON.parse(localStorage.getItem(\"info_usuario\"));\r\n\r\n\r\n\r\n        channel.onConnect(error => {\r\n          if (error) console.error(error.message)\r\n    \r\n          \r\n          channel.emit('ready',user_info);\r\n\r\n    channel.on('ready', () => {\r\n\r\n    })\r\n})\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvY2xpZW50LmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZG1ldGFzLy4vcHVibGljL2NsaWVudC5qcz85ZDNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3BoYXNlci5kLnRzXCIgLz5cclxuaW1wb3J0IGdlY2tvcyBmcm9tICdAZ2Vja29zLmlvL2NsaWVudCdcclxuXHJcbnZhciBjaGFubmVsO1xyXG52YXIgdXNlcl9pbmZvO1xyXG5cclxuXHJcbmNoYW5uZWwgPSBnZWNrb3MoeyBwb3J0OiAzNTYwIH0pXHJcblxyXG52YXIgaW5mb3MgPSB7XHJcbiAgaWQ6MSxcclxuICBub21lOidQZXRyeWNrJyxcclxuICB0b2tlbjogJ2RzYWRzYWRzYSdcclxufVxyXG5cclxubG9jYWxTdG9yYWdlLnNldEl0ZW0oICdpbmZvX3VzdWFyaW8nLCBKU09OLnN0cmluZ2lmeShpbmZvcykgKTtcclxuXHJcblxyXG51c2VyX2luZm8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaW5mb191c3VhcmlvXCIpKTtcclxuXHJcblxyXG5cclxuICAgICAgICBjaGFubmVsLm9uQ29ubmVjdChlcnJvciA9PiB7XHJcbiAgICAgICAgICBpZiAoZXJyb3IpIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSlcclxuICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjaGFubmVsLmVtaXQoJ3JlYWR5Jyx1c2VyX2luZm8pO1xyXG5cclxuICAgIGNoYW5uZWwub24oJ3JlYWR5JywgKCkgPT4ge1xyXG5cclxuICAgIH0pXHJcbn0pXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/client.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./public/client.js");
/******/ 	
/******/ })()
;